"undefined"!=typeof window&&window;const e=document.getElementById("login_status");async function t(t=!1){e.textContent="Login started...";const l=document.getElementById("url_input").value.trim(),s=document.getElementById("url_input_notes").value.trim(),a=document.getElementById("username_input").value.trim(),d=document.getElementById("password_input").value.trim();a&&d&&l?(o=await async function(e,t,o){const l=await fetch(`${n}/login?serverUrl=${encodeURIComponent(e)}&username=${encodeURIComponent(t)}&password=${encodeURIComponent(o)}`,{method:"GET"});return l.ok?l.text():(console.error("Error logging in:"+l.statusText),null)}(l,a,d),null===o?e.textContent="Login failed":(e.textContent="Login successful",document.getElementById("big_login_status").style.display="none"),t&&(localStorage.setItem("url",l),localStorage.setItem("url_notes",s),localStorage.setItem("username",a),localStorage.setItem("password",d))):e.textContent="Please fill in all fields"}!async function(){const e=localStorage.getItem("url"),n=localStorage.getItem("url_notes"),o=localStorage.getItem("username"),l=localStorage.getItem("password");e&&n&&o&&l&&(document.getElementById("url_input").value=e,document.getElementById("url_input_notes").value=n,document.getElementById("username_input").value=o,document.getElementById("password_input").value=l,t())}();const n="http://localhost:3000";let o=null;const l=document.getElementById("settings_button"),s=document.getElementById("settings");l.addEventListener("click",(()=>{s.style.display=""===s.style.display||"none"===s.style.display?"block":"none"})),document.addEventListener("click",(e=>{"block"!==s.style.display||s.contains(e.target)||l.contains(e.target)||(s.style.display="none")})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(s.style.display="none")})),document.getElementById("login_button").addEventListener("click",(()=>{t()})),document.getElementById("login_remember_button").addEventListener("click",(()=>{t(!0)})),document.getElementById("login_forget_button").addEventListener("click",(()=>{localStorage.removeItem("url"),localStorage.removeItem("url_notes"),localStorage.removeItem("username"),localStorage.removeItem("password"),document.getElementById("big_login_status").style.display="block"}));
//# sourceMappingURL=notesBundle.js.map
